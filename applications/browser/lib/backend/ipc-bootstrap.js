(()=>{var e,t,s={21433:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=21433,e.exports=t},9337:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Uint8ArrayReadBuffer=t.Uint8ArrayWriteBuffer=void 0;const i=s(30518);t.Uint8ArrayWriteBuffer=class{constructor(e=new Uint8Array(1024),t=0){this.buffer=e,this.encoder=new TextEncoder,this.isDisposed=!1,this.onCommitEmitter=new i.Emitter,this.offset=e.byteOffset+t,this.msg=new DataView(e.buffer)}ensureCapacity(e){let t=this.buffer.byteLength;for(;t<this.offset+e;)t*=2;if(t!==this.buffer.byteLength){const e=new Uint8Array(t);e.set(this.buffer),this.buffer=e,this.msg=new DataView(this.buffer.buffer)}return this}writeLength(e){if(e<0||e%1!=0)throw new Error(`Could not write the given length value. '${e}' is not an integer >= 0`);return e<127?this.writeUint8(e):(this.writeUint8(128+(127&e)),this.writeLength(e>>7)),this}writeNumber(e){return this.ensureCapacity(8),this.msg.setFloat64(this.offset,e),this.offset+=8,this}writeUint8(e){return this.ensureCapacity(1),this.buffer[this.offset++]=e,this}writeRaw(e){return this.ensureCapacity(e.byteLength),this.buffer.set(e,this.offset),this.offset+=e.byteLength,this}writeUint16(e){return this.ensureCapacity(2),this.msg.setUint16(this.offset,e),this.offset+=2,this}writeUint32(e){return this.ensureCapacity(4),this.msg.setUint32(this.offset,e),this.offset+=4,this}writeString(e){this.ensureCapacity(4*e.length);const t=this.encoder.encodeInto(e,this.buffer.subarray(this.offset+4));return this.msg.setUint32(this.offset,t.written),this.offset+=4+t.written,this}writeBytes(e){return this.writeLength(e.byteLength),this.ensureCapacity(e.length),this.buffer.set(e,this.offset),this.offset+=e.length,this}get onCommit(){return this.onCommitEmitter.event}commit(){if(this.isDisposed)throw new Error("Could not invoke 'commit'. The WriteBuffer is already disposed.");this.onCommitEmitter.fire(this.getCurrentContents()),this.dispose()}getCurrentContents(){return this.buffer.slice(this.buffer.byteOffset,this.offset)}dispose(){this.isDisposed||(this.onCommitEmitter.dispose(),this.isDisposed=!0)}};class r{constructor(e,t=0){this.buffer=e,this.offset=0,this.decoder=new TextDecoder,this.offset=e.byteOffset+t,this.msg=new DataView(e.buffer)}readUint8(){return this.msg.getUint8(this.offset++)}readUint16(){const e=this.msg.getUint16(this.offset);return this.offset+=2,e}readUint32(){const e=this.msg.getUint32(this.offset);return this.offset+=4,e}readLength(){let e=0,t=this.readUint8(),s=(127&t)<<e;for(;t>127;)e+=7,t=this.readUint8(),s+=(127&t)<<e;return s}readNumber(){const e=this.msg.getFloat64(this.offset);return this.offset+=8,e}readString(){const e=this.readUint32(),t=this.offset-this.buffer.byteOffset,s=this.decodeString(this.buffer.slice(t,t+e));return this.offset+=e,s}decodeString(e){return this.decoder.decode(e)}readBytes(){const e=this.readLength(),t=this.offset-this.buffer.byteOffset,s=this.buffer.slice(t,t+e);return this.offset+=e,s}sliceAtReadPosition(){const e=this.offset-this.buffer.byteOffset;return new r(this.buffer,e)}}t.Uint8ArrayReadBuffer=r},80996:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromCache=t.dynamicRequire=void 0;const i="undefined"!=typeof require?require:s(21433);t.dynamicRequire=function(e){if("string"!=typeof e)throw new TypeError("module id must be a string");if(e.startsWith("."))throw new Error(`module id cannot be a relative path, id: "${e}"`);return i(e)},t.removeFromCache=function(e){Object.entries(i.cache).forEach((([t,s])=>{if(s&&!s.id.endsWith(".node"))return e(s)?(delete i.cache[t],delete s.exports,void(s.children.length=0)):void s.children.splice(0,s.children.length,...s.children.filter((t=>!e(t)||(delete t.exports,t.children.length=0,!1))))}))}},39950:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryMessagePipe=void 0;const i=s(48638),r=s(9337);class n{get onMessage(){return this.onMessageEmitter.event}constructor(e){this.underlyingPipe=e,this.dataHandler=e=>this.handleChunk(e),this.onMessageEmitter=new i.Emitter,this.cachedMessageData={chunks:[],missingBytes:0},e.on("data",this.dataHandler)}send(e){this.underlyingPipe.write(this.encodeMessageStart(e)),this.underlyingPipe.write(e)}handleChunk(e){0===this.cachedMessageData.missingBytes?this.handleNewMessage(e):this.handleMessageContentChunk(e)}handleNewMessage(e){if(e.byteLength<this.messageStartByteLength)return void(this.cachedMessageData.partialMessageStart=e);const t=this.readMessageStart(e);if(e.length-this.messageStartByteLength>t){const s=e.slice(this.messageStartByteLength,this.messageStartByteLength+t);this.onMessageEmitter.fire(s),this.handleNewMessage(e.slice(this.messageStartByteLength+t))}else e.length-this.messageStartByteLength===t?this.onMessageEmitter.fire(e.slice(this.messageStartByteLength)):(this.cachedMessageData.chunks=[e.slice(this.messageStartByteLength)],this.cachedMessageData.missingBytes=t-e.byteLength+this.messageStartByteLength)}handleMessageContentChunk(e){if(this.cachedMessageData)if(e.byteLength<this.cachedMessageData.missingBytes)this.cachedMessageData.chunks.push(e),this.cachedMessageData.missingBytes-=e.byteLength;else if(e.byteLength===this.cachedMessageData.missingBytes)this.cachedMessageData.chunks.push(e),this.emitCachedMessage();else{const t=this.cachedMessageData.missingBytes,s=e.slice(0,t);this.cachedMessageData.chunks.push(s),this.emitCachedMessage(),this.handleNewMessage(e.slice(t))}}emitCachedMessage(){const e=Buffer.concat(this.cachedMessageData.chunks);this.onMessageEmitter.fire(e),this.cachedMessageData.chunks=[],this.cachedMessageData.missingBytes=0}encodeMessageStart(e){const t=(new r.Uint8ArrayWriteBuffer).writeString(n.MESSAGE_START_IDENTIFIER).writeUint32(e.length),s=t.getCurrentContents();return t.dispose(),s}get messageStartByteLength(){return 4+n.MESSAGE_START_IDENTIFIER.length+4}readMessageStart(e){const t=this.cachedMessageData.partialMessageStart?Buffer.concat([this.cachedMessageData.partialMessageStart,e]):e;this.cachedMessageData.partialMessageStart=void 0;const s=new r.Uint8ArrayReadBuffer(t),i=s.readString();if(i!==n.MESSAGE_START_IDENTIFIER)throw new Error(`Could not read message start. The start identifier should be '${n.MESSAGE_START_IDENTIFIER}' but was '${i}`);return s.readUint32()}dispose(){this.underlyingPipe.removeListener("data",this.dataHandler),this.underlyingPipe.end(),this.onMessageEmitter.dispose(),this.cachedMessageData={chunks:[],missingBytes:0}}}t.BinaryMessagePipe=n,n.MESSAGE_START_IDENTIFIER="<MessageStart>"},8621:(e,t,s)=>{"use strict";s(4233);const i=s(80996),r=s(18108),n=s(78871);(0,n.checkParentAlive)();const a=n.IPCEntryPoint.getScriptFromEnv();(0,i.dynamicRequire)(a).default(new r.IPCChannel)},18108:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPCChannel=void 0;const i=s(69278),r=s(48638),n=s(9337),a=s(39950);class o extends r.AbstractChannel{constructor(e){super(),this.ipcErrorListener=e=>this.onErrorEmitter.fire(e),e?this.setupChildProcess(e):this.setupProcess(),this.messagePipe.onMessage((e=>{this.onMessageEmitter.fire((()=>new n.Uint8ArrayReadBuffer(e)))}))}setupChildProcess(e){e.once("exit",(e=>this.onCloseEmitter.fire({reason:"Child process has been terminated",code:null!=e?e:void 0}))),this.messagePipe=new a.BinaryMessagePipe(e.stdio[4]),e.on("error",this.ipcErrorListener),this.toDispose.push(r.Disposable.create((()=>{e.removeListener("error",this.ipcErrorListener),this.messagePipe.dispose()})))}setupProcess(){process.once("beforeExit",(e=>this.onCloseEmitter.fire({reason:"Process is about to be terminated",code:e}))),this.messagePipe=new a.BinaryMessagePipe(new i.Socket({fd:4})),process.on("uncaughtException",this.ipcErrorListener),this.toDispose.push(r.Disposable.create((()=>{process.removeListener("uncaughtException",this.ipcErrorListener),this.messagePipe.dispose()})))}getWriteBuffer(){const e=new n.Uint8ArrayWriteBuffer;return e.onCommit((e=>{this.messagePipe.send(e)})),e}}t.IPCChannel=o},78871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIpcEnv=t.checkParentAlive=t.IPCEntryPoint=t.ipcEntryPoint=void 0;const s="THEIA_PARENT_PID",i="THEIA_ENTRY_POINT";var r;t.ipcEntryPoint=process.env[i],function(e){e.getScriptFromEnv=function(){if(!t.ipcEntryPoint)throw new Error(`"${i}" is missing from the environment`);return t.ipcEntryPoint}}(r||(t.IPCEntryPoint=r={})),t.checkParentAlive=function(){if(process.env[s]){const e=Number(process.env[s]);"number"!=typeof e||isNaN(e)||setInterval((()=>{try{process.kill(e,0)}catch{process.exit()}}),5e3).unref()}},t.createIpcEnv=function(e){const t=Object.assign({},e),r=Object.assign({},t.env);for(const e of Object.keys(r))e.startsWith("THEIA_")&&delete r[e];return r[s]=String(process.pid),r[i]=t.entryPoint,r}},35317:e=>{"use strict";e.exports=require("child_process")},76982:e=>{"use strict";e.exports=require("crypto")},79896:e=>{"use strict";e.exports=require("fs")},73339:e=>{"use strict";e.exports=require("module")},69278:e=>{"use strict";e.exports=require("net")},70857:e=>{"use strict";e.exports=require("os")},16928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},88364:e=>{"use strict";e.exports={version:"1.50.0"}}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return s[e].call(n.exports,n,n.exports,r),n.exports}r.m=s,r.x=()=>{var e=r.O(void 0,[638,233],(()=>r(8621)));return e=r.O(e)},e=[],r.O=(t,s,i,n)=>{if(!s){var a=1/0;for(f=0;f<e.length;f++){for(var[s,i,n]=e[f],o=!0,h=0;h<s.length;h++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](s[h])))?s.splice(h--,1):(o=!1,n<a&&(a=n));if(o){e.splice(f--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var f=e.length;f>0&&e[f-1][2]>n;f--)e[f]=e[f-1];e[f]=[s,i,n]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={266:1};r.O.require=t=>e[t];r.f.require=(t,s)=>{e[t]||(t=>{var s=t.modules,i=t.ids,n=t.runtime;for(var a in s)r.o(s,a)&&(r.m[a]=s[a]);n&&n(r);for(var o=0;o<i.length;o++)e[i[o]]=1;r.O()})(require("./"+r.u(t)))}})(),t=r.x,r.x=()=>(r.e(638),r.e(233),t());r.x()})();